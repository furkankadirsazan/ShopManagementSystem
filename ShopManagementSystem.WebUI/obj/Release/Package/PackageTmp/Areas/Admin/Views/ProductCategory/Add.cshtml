@model ProductCategories
<style>
    #blah {
        max-height: 120px;
        height: auto;
        width: auto;
        display: block;
        margin-left: auto;
        margin-right: auto;
        padding: 5px;
        max-width: 735px;
    }

    #img_contain {
        border-radius: 5px;
        /*border:1px solid grey;*/
        margin-top: 20px;
        width: auto;
    }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.4/css/bootstrap3/bootstrap-switch.min.css" integrity="sha256-sj3qkRTZIL8Kff5fST1TX0EF9lEmSfFgjNvuiw2CV5w=" crossorigin="anonymous" />
<div class="row">
    <div class="col-md-12">

        <!--begin::Portlet-->
        <div class="kt-portlet">
            <div class="kt-portlet__head">
                <div class="kt-portlet__head-label">
                    <h3 class="kt-portlet__head-title">
                        Ürüne Kategori Ekle
                    </h3>
                </div>
            </div>

            <!--begin::Form-->

            @using (Html.BeginForm("Add", "ProductCategory", FormMethod.Post, new { enctype = "multipart/form-data", @class = "kt-form kt-form--label-right" }))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(m=>m.ShopID)
                @Html.HiddenFor(m => m.ProductID)
                <div class="kt-portlet__body">
                    <div class="form-group form-group-last">
                        @if (!string.IsNullOrEmpty(TempData["Message"] as string))
                        {
                            <div class="@("alert " + TempData["ResultClass"] as string) fade show" role="alert">
                                <div class="alert-icon"><i class="flaticon-warning"></i></div>
                                <div class="alert-text">@(Html.Raw(TempData["Message"] as string))</div>
                                <div class="alert-close">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true"><i class="la la-close"></i></span>
                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                    <div class="form-group row">
                        <label for="CategoryID" class="col-2 col-form-label"><font color="red">*</font> Kategori</label>
                        <div class="col-10">
                            @Html.DropDownListFor(m => Model.CategoryID, ViewBag.Categories as SelectList, "Seçiniz", new { @class = "selectpicker form-control", data_live_search = "true", id = "CategoryID", required = "" })
                        </div>
                    </div>                
                </div>
                <div class="kt-portlet__foot">
                    <div class="kt-form__actions">
                        <div class="row">
                            <div class="col-2">
                            </div>
                            <div class="col-10">
                                <button type="submit" class="btn btn-success">Ekle</button>
                                <a href="/admin/productcategory/index?productId=@ViewBag.ProductID&shopId=@ViewBag.ShopID" class="btn btn-warning">Geri</a>
                            </div>
                        </div>
                    </div>
                </div>
            }

        </div>

        <!--end::Portlet-->
    </div>

</div>

@section scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/3.3.4/js/bootstrap-switch.js" integrity="sha256-+VCjCLUkzOOnKtJ0s04D3mcyypeENTag5Xivs9hQVKs=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.10/js/bootstrap-select.min.js" integrity="sha256-FXzZGmaRFZngOjUKy3lWZJq/MflaMpffBbu3lPT0izE=" crossorigin="anonymous"></script>
    <script>
         $("#inputGroupFile01").change(function (event) {
             RecurFadeIn();
             readURL(this);
         });
         $("#inputGroupFile01").on('click', function (event) {
             RecurFadeIn();
         });
         function readURL(input) {
             if (input.files && input.files[0]) {
                 var reader = new FileReader();
                 var filename = $("#inputGroupFile01").val();
                 filename = filename.substring(filename.lastIndexOf('\\') + 1);
                 reader.onload = function (e) {
                     debugger;
                     $('#blah').attr('src', e.target.result);
                     $('#blah').hide();
                     $('#blah').fadeIn(500);
                     $('.custom-file-label').text(filename).attr('style', 'text-align:left');
                 }
                 reader.readAsDataURL(input.files[0]);
             }
             $(".alert").removeClass("loading").hide();
         }
         function RecurFadeIn() {
             FadeInAlert("Wait for it...");
         }
         function FadeInAlert(text) {
             $(".alert").show();
             $(".alert").text(text).addClass("loading");
         }
         $('#cleanImage').on({
             'click': function () {
                 $('#blah').attr('src', '/Content/sample-upload-image.png');
                 $('.custom-file-label').text('');
             }
         });
        //$("#upload").change(function () {
        //    readURL(this);
        //});
    </script>

}



